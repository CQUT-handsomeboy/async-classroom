# 模式切换重构说明

## 重构概述

将原来的教师/学生模式切换重构为更简洁的编辑/调试两个选项卡模式。

## 主要变更

### 1. 侧边栏 (Sidebar.tsx)
- 移除了 `mode` 选项卡
- 新增 `edit` 和 `debug` 两个选项卡
- 更新了图标和提示文本
- 底部模式指示器改为显示 E/D (编辑/调试)

### 2. 统一工作区 (UnifiedWorkspace.tsx)
- 合并了原来的 TeacherStudio 和 StudentClassroom 功能
- 通过 `currentMode` 状态控制界面布局
- 编辑模式：左侧编辑器 + 右侧视频预览
- 调试模式：左侧视频播放 + 右侧转录文本和调试工具栏
- 点击编辑/调试选项卡直接切换模式

### 3. 路由更新 (App.tsx)
- 新增 `/workspace/:id` 路由指向统一工作区
- 保持向后兼容，原有的 `/teacher/:id` 和 `/student/:id` 路由仍然有效

### 4. 首页更新 (Home.tsx)
- 课程卡片链接改为指向 `/workspace/:id`

### 5. 工具函数更新 (utils.ts)
- 更新 `getPanelTitle` 函数以支持新的模式名称

## 用户体验改进

1. **简化操作**：不再需要复杂的模式切换面板，直接点击选项卡即可切换
2. **直观标识**：编辑/调试模式一目了然
3. **统一界面**：所有功能集中在一个页面中，减少页面跳转
4. **保持功能**：所有原有功能都得到保留

## 技术特点

- 使用 React 状态管理模式切换
- 条件渲染不同的布局组件
- 保持组件复用性和可维护性
- TypeScript 类型安全

## 使用方法

1. 访问任意课程页面
2. 点击左侧边栏的"编辑模式"或"调试模式"选项卡
3. 界面会自动切换到对应的功能布局
4. 顶部标题栏会显示当前模式状态